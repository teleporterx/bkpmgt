<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DD Agent Panel</title>
    
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>
    <div class="header">
        <div class="inner-header flex">
            <img src="/static/deep_favicon.svg" alt="DeepDefend Logo" class="logo">
            <h1>Agent Administration Panel</h1>
        
            <div class="button-container">
                <button class="action-button">XDR</button>
                <button class="action-button">Backup & DR</button>
                <button class="action-button">Misc.</button>
            </div>
        </div>

        <div>
            <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                <defs>
                    <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
                </defs>
                <g class="parallax">
                    <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7)" />
                    <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.5)" />
                    <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.3)" />
                    <use xlink:href="#gentle-wave" x="48" y="7" fill="#fff" />
                </g>
            </svg>
        </div>

        <!-- Shutdown Icon -->
        <div class="shutdown-container" onclick="shutdown()" style="cursor: pointer;">
            <i class="fas fa-power-off shutdown-icon"></i>
        </div>

        <!-- Restart Icon -->
        <div class="restart-container" onclick="restart()" style="cursor: pointer;">
            <i class="fas fa-redo-alt restart-icon"></i>
        </div>
    </div>

    <div class="content flex">
        <p><strong>DeepDefend 2024</strong> | B-Hive Network Kit<span>&trade;</span> (Client .v1 Beta)</p>
    </div>

    <script>
        function shutdown() {
            fetch('/shutdown', {
                method: 'POST'
            })
            .then(response => {
                if (response.ok) {
                    console.log('Shutdown signal sent successfully.');
                    alert('Shutdown initiated.');
                } else {
                    console.error('Failed to send shutdown signal.');
                    alert('Failed to initiate shutdown.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Error initiating shutdown.');
            });
        }

        function restart() {
            fetch('/restart', {
                method: 'POST'
            })
            .then(response => {
                if (response.ok) {
                    console.log('Restart signal sent successfully.');
                    alert('Restart initiated.');
                } else {
                    console.error('Failed to send restart signal.');
                    alert('Failed to initiate restart.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Error initiating restart.');
            });
        }
    </script>
</body>
</html>